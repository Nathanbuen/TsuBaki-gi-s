<!--ESTRUTURA HTML -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tsubaki kimonos</title>
   <link rel="stylesheet" href="inicio.css">
</head>
<!--CABEÇALHO OU NAV BAR -->
<body>
    <header>
    <nav>
    <a href="index.html">
      <img src="logo.png" alt="Logo da Loja" id="logo">
   </header>
    <div class="header">
        <h1>tsubaki kimonos</h1>
    </div>
    <div class="nav">
        <button onclick="showHome()">Home</button>
        <button onclick="showCatalog()">Produtos</button>
        <a href="#contato">Contato</a>
        <a href="#sobre">Sobre</a>
        </button>
    </div>
    <div class="home" id="home">
        <button onclick="showCatalog()">confira nosssas promoções</button>
    </div>
    <div class="main" id="main">
        <div class="container">
         
            <div class="product">
                <img src="produto1.jpg" alt="Produto 1">
                <h2>Produto 1</h2>
                <p>R$ 100,00</p>
                <button onclick="addToCart('Produto 1', 100)">Adicionar ao Carrinho</button>
            </div>
            <div class="product">
                <img src="produto2.jpg" alt="Produto 2">
                <h2>Produto 2</h2>
                <p>R$ 150,00</p>
                <button onclick="addToCart('Produto 2', 150)">Adicionar ao Carrinho</button>
            </div>
            <div class="product">
                <img src="produto3.jpg" alt="Produto 3">
                <h2>Produto 3</h2>
                <p>R$ 200,00</p>
                <button onclick="addToCart('Produto 3', 200)">Adicionar ao Carrinho</button>
            </div>
            <div class="product">
              <img src="produto3.jpg" alt="Produto 3">
              <h2>Produto 3</h2>
              <p>R$ 200,00</p>
              <button onclick="addToCart('Produto 3', 200)">Adicionar ao Carrinho</button>
          </div>
          <div class="product">
            <img src="produto3.jpg" alt="Produto 3">
            <h2>Produto 3</h2>
            <p>R$ 200,00</p>
            <button onclick="addToCart('Produto 3', 200)">Adicionar ao Carrinho</button>
        </div>
         <div class="product">
            <img src="produto3.jpg" alt="Produto 3">
            <h2>Produto 3</h2>
            <p>R$ 200,00</p>
            <button onclick="addToCart('Produto 3', 200)">Adicionar ao Carrinho</button>
        </div>
            <!-- Adicione mais produtos conforme necessário -->

    <div class="footer">
        <p>&copy; tsubaki kimonos. Todos os direitos reservados.</p>
    </div>
    <script>
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let total = parseFloat(localStorage.getItem('total')) || 0;

      function addToCart(productName, productPrice) {
          const existingItem = cart.find(item => item.name === productName);
          if (existingItem) {
              existingItem.quantity += 1;
          } else {
              cart.push({ name: productName, price: productPrice, quantity: 1 });
          }
          total += productPrice;
          localStorage.setItem('cart', JSON.stringify(cart));
          localStorage.setItem('total', total.toFixed(2));
          renderCart();
      }

      function removeFromCart(productName) {
          const itemIndex = cart.findIndex(item => item.name === productName);
          if (itemIndex !== -1) {
              total -= cart[itemIndex].price * cart[itemIndex].quantity;
              cart.splice(itemIndex, 1);
              localStorage.setItem('cart', JSON.stringify(cart));
              localStorage.setItem('total', total.toFixed(2));
              renderCart();
          }
      }

      function updateQuantity(productName, quantity) {
          const item = cart.find(item => item.name === productName);
          if (item) {
              total += (quantity - item.quantity) * item.price;
              item.quantity = parseInt(quantity, 10);
              localStorage.setItem('cart', JSON.stringify(cart));
              localStorage.setItem('total', total.toFixed(2));
              renderCart();
          }
      }

      function renderCart() {
          const cartItems = document.getElementById('cart-items');
          const cartTotal = document.getElementById('cart-total');
          const cartCount = document.getElementById('cart-count');
          cartItems.innerHTML = '';
          let itemCount = 0;
          cart.forEach(item => {
              itemCount += item.quantity;
              const li = document.createElement('li');
              li.innerHTML = `
                  <span>${item.name} - R$ ${item.price.toFixed(2)} x ${item.quantity}</span>
                  <input type="number" value="${item.quantity}" min="1" onchange="updateQuantity('${item.name}', this.value)">
                  <button onclick="removeFromCart('${item.name}')">Remover</button>
              `;
              cartItems.appendChild(li);
          });
          cartTotal.textContent = total.toFixed(2);
          cartCount.textContent = itemCount;
          if (itemCount > 0) {
              cartCount.style.display = 'block';
          } else {
              cartCount.style.display = 'none';
          }
      }

      function openCartModal() {
          document.getElementById('cartModal').style.display = 'block';
      }

      function closeCartModal() {
          document.getElementById('cartModal').style.display = 'none';
      }

      function showHome() {
          document.getElementById('home').style.display = 'flex';
          document.getElementById('main').style.display = 'none';
      }

      function showCatalog() {
          document.getElementById('home').style.display = 'none';
          document.getElementById('main').style.display = 'block';
      }

      document.addEventListener('DOMContentLoaded', renderCart);
      window.onclick = function(event) {
          if (event.target == document.getElementById('cartModal')) {
              closeCartModal();
          }
      }
  </script>
</body>
</html>